<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>

<script>
    function outter(){
        function inner(){
            console.log(this);
        }
        inner();
    }

    outter(); // window




//-----------------------------
//    函数中嵌套函数  this指向都是window
    const persion = {
        name: '111',
        say(fun){
            console.log(this); //{name: "111", say: ƒ}
            fun();             //window
            function test(){
                console.log(this); //window
            }
            test()
        }
    }

    function log(){
        console.log(this);
    }

    persion.say(log);



//-------------------------------
//箭头函数中的this是在定义函数的时候绑定的，而不是执行函数的时候绑定的
//箭头函数中,this指向的固定化,并不是因为箭头函数内部绑定的this的机制
//箭头函数中实际没有自己的this,导致内部的this就是外层代码块的this
//正因为它没有this,所以也就不能用作构造函数
const obj2 = {
    name: 'obj2.name',
    say: () => {
        // *****这里输出的是window****
        console.log(this);  //window
    }
}

    obj2.say();


    const obj3 = {
        name: 'obj3.name',
        say: () => {
            var fn = () => {console.log(this);}  //果然还是window
            fn();
        }
    }

    obj3.say();
</script>
</html>